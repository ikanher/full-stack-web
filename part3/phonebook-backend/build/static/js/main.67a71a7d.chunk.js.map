{"version":3,"sources":["components/Phonebook.js","services/persons.js","App.js","index.js"],"names":["Notification","_ref","message","msg","style","padding","backgroundColor","color","marginBottom","react_default","a","createElement","Filter","_ref3","filter","handleFilterChange","Fragment","type","value","onChange","PersonForm","_ref4","persons","handleAddPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","Persons","_ref5","entries","handleDeleteClick","rows","e","name","toLowerCase","includes","map","Phonebook_Person","key","entry","Person","_ref6","number","_ref7","id","onClick","Phonebook","_ref2","notification","Phonebook_Notification","Phonebook_Filter","Phonebook_PersonForm","Phonebook_Persons","baseURL","services_persons","axios","get","then","response","data","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setNotification","useEffect","personService","components_Phonebook","event","preventDefault","existing","p","length","person","window","confirm","newPersons","setTimeout","catch","error","target","parseInt","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.67a71a7d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (!message.msg) {\n        return null\n    }\n    const style = {\n        'padding': '20px',\n        'backgroundColor': message.color,\n        'color': 'white',\n        'marginBottom': '15px'\n    }\n\n    return (\n        <div style={style}>\n            {message.msg}\n        </div>\n    )\n}\n\nconst Phonebook = ({\n        persons, handleAddPerson,\n        newName, handleNameChange,\n        newNumber, handleNumberChange,\n        filter, handleFilterChange,\n        handleDeleteClick,\n        notification\n    }) => {\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={notification} />\n            <Filter filter={filter} handleFilterChange={handleFilterChange} />\n            <PersonForm\n                persons={persons} handleAddPerson={handleAddPerson}\n                newName={newName} handleNameChange={handleNameChange}\n                newNumber={newNumber} handleNumberChange={handleNumberChange}\n            />\n            <Persons entries={persons} filter={filter} handleDeleteClick={handleDeleteClick} />\n        </div>\n    )\n}\n\nconst Filter = ({ filter, handleFilterChange }) => {\n    return (\n        <>\n            Filter shown with\n            <input type='text' value={filter} onChange={handleFilterChange} />\n        </>\n    )\n}\n\nconst PersonForm = ({\n        persons, handleAddPerson,\n        newName, handleNameChange,\n        newNumber, handleNumberChange\n    }) => {\n\n    return (\n        <form onSubmit={handleAddPerson}>\n            <div>\n            name: <input value={newName} onChange={handleNameChange} />\n            <br />\n            number: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nconst Persons = ({ entries, filter, handleDeleteClick }) => {\n    const rows = entries\n        .filter(e => e.name.toLowerCase().includes(filter.toLowerCase()))\n        .map(e => <Person key={e.name} entry={e} handleDeleteClick={handleDeleteClick} />)\n\n    return (\n        <>\n            <h2>Persons</h2>\n            {rows}\n        </>\n    )\n}\n\nconst Person = ({ entry, handleDeleteClick }) => {\n    const DeleteButton = ({ entry }) => {\n        return <button value={entry.id} onClick={handleDeleteClick}>Delete</button> \n    }\n\n    return (\n        <p>{entry.name} {entry.number} <DeleteButton entry={entry} /> </p>\n    )\n}\n\nexport default Phonebook\n","import axios from 'axios'\n\nconst baseURL = 'http://localhost:3001/api/persons'\n\nconst getAll = () => axios.get(baseURL).then(response => response.data)\nconst create = (entry) => axios.post(baseURL, entry).then(response => response.data)\nconst update = (entry) => axios.put(`${baseURL}/${entry.id}`, entry).then(response => response.data)\nconst remove = (id) => axios.delete(`${baseURL}/${id}`)\nconst get = (id) => axios.get(`${baseURL}/${id}`).then(response => response.data)\n\nexport default { getAll, create, update, remove, get }\n","import React, { useState, useEffect } from 'react'\n\nimport Phonebook from './components/Phonebook.js'\nimport personService from './services/persons.js'\n\nconst App = () => {\n    const notificationTimeout = 2000\n    const [ persons, setPersons] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ filter, setFilter ] = useState('')\n    const [ notification, setNotification ] = useState({})\n\n    const handleFilterChange = (event) => setFilter(event.target.value)\n    const handleAddPerson = (event) => {\n        event.preventDefault()\n\n        const existing = persons.filter(p => p.name.toLowerCase() === newName.toLowerCase())\n        if (existing.length > 0) {\n\n            // exists, get id of the object\n            const id = existing[0].id\n\n            personService.get(id).then((person) => {\n                const msg = `${person.name} exists. Update?`\n                if (window.confirm(msg)) {\n\n                    // update the number\n                    person.number = newNumber\n                    personService.update(person).then(response => {\n                        const newPersons = persons.filter(p => p.id !== id).concat(person)\n                        setPersons(newPersons)\n                        setNotification({msg: `Number updated for ${person.name}!`, color: 'green'})\n                        setTimeout(() => setNotification({}), notificationTimeout)\n                    })\n                }\n            }).catch((error) => {\n                const msg = `${newName} has already been removed from server...`\n                setNotification({msg: msg, color: 'red'})\n                setTimeout(() => setNotification({}), notificationTimeout)\n                const newPersons = persons.filter(p => p.id !== id)\n                setPersons(newPersons)\n            })\n        } else {\n            // does not exist, create\n            const entry = { name: newName, number: newNumber }\n            personService.create(entry).then((person) => {\n                setPersons(persons.concat(person))\n                setNotification({msg: `${person.name} added!`, color: 'green'})\n                setTimeout(() => setNotification({}), notificationTimeout)\n            })\n        }\n\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const handleNameChange = (event) => setNewName(event.target.value)\n    const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n    useEffect(() => {\n        personService.getAll().then(persons => setPersons(persons) )\n    }, [])\n\n    const handleDeleteClick = (event) => {\n        const id = parseInt(event.target.value)\n        personService.get(id).then((person) => {\n            if (window.confirm(`Delete ${person.name}?`)) {\n                personService.remove(id).then(response => {\n                    const newPersons = persons.filter(p => p.id !== id)\n                    setPersons(newPersons)\n                })\n            }\n        })\n    }\n\n    return <Phonebook\n        persons={persons}\n        handleAddPerson={handleAddPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        filter={filter}\n        handleFilterChange={handleFilterChange}\n        handleDeleteClick={handleDeleteClick}\n        notification={notification}\n    />\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}